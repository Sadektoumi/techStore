{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DreamNet\\\\Desktop\\\\stage 2eme\\\\techStore1.2\\\\src\\\\components\\\\Panier.js\";\nimport React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux';\nimport { postCommande } from '../redux/actions/user.actions';\n\nfunction saveCart(cart) {\n  localStorage.setItem('cart', JSON.Stringift(cart));\n}\n\nfunction getCart() {\n  if (localStorage.getItem('cart') == null) {\n    return [];\n  } else {\n    return JSON.parse(localStorage.getItem('cart'));\n  }\n}\n\nconst handleIncrement = async () => {};\n\nconst handleDeccrement = async () => {};\n\nlet cart = getCart();\nvar showCart = '';\nshowCart = cart.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  className: \"car_image\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }\n}, item.product)), /*#__PURE__*/React.createElement(\"td\", {\n  className: \"cart_price\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }\n}, item.product_desc)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 1\n  }\n}, /*#__PURE__*/React.createElement(\"button\", {\n  type: \"button\",\n  onClick: () => handleIncrement,\n  className: \"input-group-text\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 3\n  }\n}, \"+\"), /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 3\n  }\n}, item.Qte), /*#__PURE__*/React.createElement(\"button\", {\n  type: \"button\",\n  onClick: () => handleDeccrement,\n  className: \"input-group-text\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }\n}, \"-\"))), /*#__PURE__*/React.createElement(\"td\", {\n  className: \"cart_total\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"cart_total_price\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }\n}, item.product_price)), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 2\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"cart_total_price\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 6\n  }\n}, item.product_price * item.Qte))));\n\nfunction Panier() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleSubmit = async e => {\n    token = localStorage.getItem('token');\n\n    if (token == null) {\n      history.push('/SeConnecter');\n    }\n\n    cart = JSON.parse(localStorage.getItem('cart'));\n    let data = {\n      description: cart\n    };\n    let Authorization = localStorage.getItem(\"token\");\n    dispatch(await postCommande(data, Authorization, history));\n  };\n\n  const handledelete = async e => {\n    localStorage.removeItem('cart');\n    window.location.reload(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Product Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"le nombre_de_produit_commander\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"Total\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 3\n    }\n  }, showCart, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 8\n    }\n  }, \"Commander\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: handledelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 8\n    }\n  }, \"Vider\")))));\n}\n\nexport default Panier;","map":{"version":3,"sources":["C:/Users/DreamNet/Desktop/stage 2eme/techStore1.2/src/components/Panier.js"],"names":["React","useHistory","useDispatch","postCommande","saveCart","cart","localStorage","setItem","JSON","Stringift","getCart","getItem","parse","handleIncrement","handleDeccrement","showCart","map","item","product","product_desc","Qte","product_price","Panier","history","dispatch","handleSubmit","e","token","push","data","description","Authorization","handledelete","removeItem","window","location","reload"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux';\nimport { postCommande } from '../redux/actions/user.actions'\n\n\nfunction saveCart(cart){\n  localStorage.setItem('cart' , JSON.Stringift(cart))\n}\n\nfunction getCart(){\n  if (localStorage.getItem('cart') == null ){\n    return []\n   } else {\n     return JSON.parse(localStorage.getItem('cart'))\n\n   }\n}\n\n\n\n\n \nconst  handleIncrement = async () => {\n\n}\n\n\nconst  handleDeccrement = async () => {\n\n\n}\n\n\n\n\nlet cart = getCart()\nvar showCart ='';\nshowCart = cart.map((item) => (\n  <tr>\n  <td className=\"car_image\">\n    <p>{item.product}</p>\n   \n  </td>\n  <td className=\"cart_price\">\n    <p>{item.product_desc}</p>\n  </td>\n  <td>\n<div>\n  <button type='button' onClick={()=>handleIncrement} className='input-group-text'>+</button>\n  <div>{item.Qte}</div>\n  <button type='button' onClick={()=>handleDeccrement} className='input-group-text'>-</button>\n</div>\n  </td>\n  <td className=\"cart_total\">\n    <p className=\"cart_total_price\">{item.product_price}</p>\n  </td>\n <td><p className=\"cart_total_price\">{item.product_price*item.Qte}</p></td>\n</tr>\n\n))\n\n\n\n\n\nfunction Panier() {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  \nconst handleSubmit = async (e) => {\n  token = localStorage.getItem('token')\n  if(token==null){\n    history.push('/SeConnecter')\n  }\n  cart = JSON.parse(localStorage.getItem('cart'))\n   let data = {\n    description : cart\n \n   }\n   let Authorization = localStorage.getItem(\"token\");\n   dispatch(await postCommande (data, Authorization , history))\n }\n\n const handledelete = async(e) => {\n  \n  localStorage.removeItem('cart');\n  window.location.reload(false);\n  \n }\n  return (<table className=\"table table-bordered\">\n  <thead>\n    <tr>\n      <th>Product Name</th>\n      <th>Description</th>\n      <th>le nombre_de_produit_commander</th>\n      <th>Price</th>\n      \n      \n      <th>Total</th>\n     \n    </tr>\n  </thead>\n  <tbody>\n   \n\n  {showCart}\n  <tr>\n  <div><button className=\"btn btn-primary\" onClick={handleSubmit}  >Commander</button></div>\n  <div><button className=\"btn btn-primary\" onClick={handledelete}  >Vider</button></div>\n  </tr>\n\n   \n  </tbody>\n\n</table>\n\n\n\n  )\n}\n \nexport default Panier;"]},"metadata":{},"sourceType":"module"}