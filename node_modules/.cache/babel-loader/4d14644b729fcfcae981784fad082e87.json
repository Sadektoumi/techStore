{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DreamNet\\\\Desktop\\\\stage 2eme\\\\techStore1.2\\\\src\\\\components\\\\Intervention.js\";\nimport React, { useEffect, useState } from 'react';\nimport Categorie from './Categorie';\nimport swal from 'sweetalert2';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nfunction List() {\n  const history = useHistory();\n  const [message, setCart] = useState([]);\n  useEffect(() => {\n    let isMounted = true;\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    };\n    axios.get(\"http://127.0.0.1:8000/api/interventionList\", {\n      headers: headers\n    }).then(res => {\n      console.log('heydata', res.data);\n      setCart(res.data.message);\n    }).catch(err => {\n      console.log(err);\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [history]);\n\n  function deleteOperation(id) {\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    };\n    axios.delete(\"http://127.0.0.1:8000/api/interventiondelete/\" + id, {\n      headers: headers\n    }).then(res => {\n      console.log(res.data.message);\n      swal.fire({\n        title: 'Are you sure??',\n        showDenyButton: true,\n        showCancelButton: true,\n        confirmButtonText: 'yes',\n        denyButtonText: `No`\n      }).then(result => {\n        /* Read more about isConfirmed, isDenied below */\n        if (result.isConfirmed) {\n          swal.fire('deleted', '', 'error');\n          window.location.reload(false);\n        } else if (result.isDenied) {\n          swal.fire('youu kept it ', '', 'success');\n        }\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  } // const test =()=> {\n  //   const token = localStorage.getItem('token');\n  //   const headers = {\n  //     'Content-Type': 'application/json',\n  //     'Authorization': 'Bearer ' + `${token}`\n  //   }\n  //   axios.get(\"http://127.0.0.1:8000/api/interventionList\", {\n  //       headers: headers\n  //     })\n  //   .then(res => {\n  //     console.log(res)\n  //   }).catch(err => {\n  //     console.log(err)\n  //   })\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Categorie, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-9 padding-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 36\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 77\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"interventions\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 39\n    }\n  }, \"Le nom de pc \")), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 39\n    }\n  }, \"prix\")), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 39\n    }\n  }, \"etat\")), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 39\n    }\n  }, \"operation\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, message === null || message === void 0 ? void 0 : message.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"car_image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"cart_price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, item.prix)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"cart_total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"cart_total_price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, item.etat)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: () => deleteOperation(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, \"Delete\"))))))))), \" \"));\n}\n\nexport default List;","map":{"version":3,"sources":["C:/Users/DreamNet/Desktop/stage 2eme/techStore1.2/src/components/Intervention.js"],"names":["React","useEffect","useState","Categorie","swal","axios","useHistory","List","history","message","setCart","isMounted","token","localStorage","getItem","headers","get","then","res","console","log","data","catch","err","deleteOperation","id","delete","fire","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","result","isConfirmed","window","location","reload","isDenied","map","item","name","prix","etat"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from 'react';\r\nimport Categorie from './Categorie';\r\nimport swal from 'sweetalert2';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction List (){\r\n  \r\n  const history = useHistory();\r\n  const [message,setCart] = useState([]);\r\n\r\n\r\n\r\n     useEffect(() => {\r\n    let isMounted = true\r\n\r\n    const token = localStorage.getItem('token');\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer ' + `${token}`\r\n    }\r\n    \r\n    axios.get(\"http://127.0.0.1:8000/api/interventionList\", {\r\n        headers: headers\r\n      })\r\n    .then(res => {\r\n        console.log('heydata',res.data)\r\n        setCart(res.data.message)\r\n     \r\n    \r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n\r\n    return() => {isMounted =false\r\n    };\r\n\r\n  },[history]);\r\n\r\n  function deleteOperation(id){\r\n    const token = localStorage.getItem('token');\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer ' + `${token}`\r\n    }\r\n    axios.delete(\"http://127.0.0.1:8000/api/interventiondelete/\"+id, {\r\n      headers: headers\r\n    })\r\n  .then(res => {\r\n      console.log(res.data.message)\r\n      swal.fire({\r\n        title: 'Are you sure??',\r\n        showDenyButton: true,\r\n        showCancelButton: true,\r\n        confirmButtonText: 'yes',\r\n        denyButtonText: `No`,\r\n      }).then((result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          swal.fire('deleted', '', 'error')\r\n          window.location.reload(false);\r\n        } else if (result.isDenied) {\r\n          swal.fire('youu kept it ', '', 'success')\r\n        }\r\n      })\r\n   \r\n  \r\n  }).catch(err => {\r\n    console.log(err)\r\n  })\r\n   \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // const test =()=> {\r\n  //   const token = localStorage.getItem('token');\r\n  //   const headers = {\r\n  //     'Content-Type': 'application/json',\r\n  //     'Authorization': 'Bearer ' + `${token}`\r\n  //   }\r\n    \r\n  //   axios.get(\"http://127.0.0.1:8000/api/interventionList\", {\r\n  //       headers: headers\r\n  //     })\r\n  //   .then(res => {\r\n  //     console.log(res)\r\n  //   }).catch(err => {\r\n  //     console.log(err)\r\n  //   })\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n   \r\n        return (<div> <Categorie /><div className=\"col-sm-9 padding-right\"> <div>\r\n            <div>\r\n        <div className=\"review-payment\">\r\n          <h2>interventions</h2>\r\n        </div>\r\n        <div className=\"\">\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr className=\"\">\r\n                <td className=\"image\"><h4>Le nom de pc </h4></td>\r\n               \r\n                <td className=\"price\"><h4>prix</h4></td>\r\n                <td className=\"total\"><h4>etat</h4></td>\r\n                <td className=\"total\"><h4>operation</h4></td>\r\n                \r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            {message?.map((item) => (\r\n              <tr>\r\n                <td className=\"car_image\">\r\n                  <p>{item.name}</p>\r\n                 \r\n                </td>\r\n                <td className=\"cart_price\">\r\n                  <p>{item.prix}</p>\r\n                </td>\r\n                <td className=\"cart_total\">\r\n                  <p className=\"cart_total_price\">{item.etat}</p>\r\n                </td>\r\n                <td>\r\n                <button className=\"btn btn-primary\" onClick={()=>deleteOperation(item.id)}  >Delete</button>\r\n              </td>\r\n              </tr>\r\n             \r\n                \r\n                ))}\r\n            </tbody>\r\n           \r\n          </table>\r\n           \r\n        </div>\r\n      </div>\r\n        </div> </div></div>);\r\n   \r\n}\r\n \r\nexport default List;"]},"metadata":{},"sourceType":"module"}