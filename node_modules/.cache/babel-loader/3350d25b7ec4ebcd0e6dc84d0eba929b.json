{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DreamNet\\\\Desktop\\\\stage 2eme\\\\techStore1.2\\\\src\\\\components\\\\Produit.js\";\nimport { useHistory } from \"react-router-dom\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction ListProduit() {\n  const history = useHistory();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    let isMounted = true;\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    };\n    axios.get(\"http://127.0.0.1:8000/api/afficherProduits\").then(res => {\n      console.log('heydata', res.data);\n      setProducts(res.data.message);\n    }).catch(err => {\n      console.log(err);\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [history]);\n\n  function commandeOperation(id) {\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    };\n    axios.post(\"http://127.0.0.1:8000/api/commandePost/\" + id, {\n      headers: headers\n    }).then(res => {\n      console.log(res.data.message);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  var showProductList = '';\n  showProductList = products.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"car_body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"single-products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productinfo text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/home/product1.jpg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, item.produitImg), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, item.prix), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default add-to-cart\",\n    onClick: () => commandeOperation(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 98\n    }\n  }), \"Add to cart\")))))));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-image-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  }, showProductList));\n}\n\nexport default ListProduit;","map":{"version":3,"sources":["C:/Users/DreamNet/Desktop/stage 2eme/techStore1.2/src/components/Produit.js"],"names":["useHistory","React","useEffect","useState","axios","ListProduit","history","products","setProducts","isMounted","token","localStorage","getItem","headers","get","then","res","console","log","data","message","catch","err","commandeOperation","id","post","showProductList","map","item","produitImg","description","prix"],"mappings":"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","sourcesContent":["\nimport { useHistory } from \"react-router-dom\";\nimport React, { useEffect , useState} from 'react';\nimport axios from 'axios';\n\n\n\nfunction ListProduit (){\n  \n  const history = useHistory();\n  const [products,setProducts] = useState([]);\n\n\n\n     useEffect(() => {\n    let isMounted = true\n\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    }\n    \n    axios.get(\"http://127.0.0.1:8000/api/afficherProduits\")\n    .then(res => {\n        console.log('heydata',res.data)\n        setProducts(res.data.message)\n     \n    \n    }).catch(err => {\n      console.log(err)\n    })\n\n    return() => {isMounted =false\n    };\n\n  },[history]);\n\n\n  function commandeOperation(id){\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    }\n    axios.post(\"http://127.0.0.1:8000/api/commandePost/\"+id, {\n      headers: headers\n    })\n  .then(res => {\n      console.log(res.data.message)\n      \n   \n  \n  }).catch(err => {\n    console.log(err)\n  })\n   \n  }\n\n\n\n\n  var showProductList ='';\n  showProductList = products.map((item) => (\n    <div className=\"col-md-3\">\n      <div className=\"card\"> \n        <div className=\"car_body\">\n      <div className=\"single-products\">\n      <div className=\"productinfo text-center\">\n        <img src=\"images/home/product1.jpg\" alt=\"\" />\n        <h2>{item.produitImg}</h2>\n        <p>{item.description}</p>\n        <p>{item.prix}</p>\n        <button className=\"btn btn-default add-to-cart\" onClick={()=>commandeOperation(item.id)}><i className=\"fa fa-shopping-cart\" />Add to cart</button>\n      </div>\n      </div>\n      </div>\n      </div>\n      </div>\n      \n    \n  ))\n  \n\n\n\n \n    return (\n      \n      <div className=\"row\">\n      \n         <div className=\"product-image-wrapper\">\n       \n       {showProductList}\n      </div>\n     \n    </div>\n   \n    )\n}\nexport default ListProduit;\n"]},"metadata":{},"sourceType":"module"}