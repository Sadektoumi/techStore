{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DreamNet\\\\Desktop\\\\stage 2eme\\\\techStore1.2\\\\src\\\\components\\\\Produit.js\";\nimport { useHistory } from \"react-router-dom\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport swal from \"sweetalert2\";\n\nfunction ListProduit() {\n  const history = useHistory();\n  const [products, setProducts] = useState([]);\n\n  function saveCart(cart) {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }\n\n  function getCart() {\n    if (localStorage.getItem('cart') == null) {\n      return [];\n    } else {\n      return JSON.parse(localStorage.getItem('cart'));\n    }\n  }\n\n  function addToCart(product) {\n    let cart = getCart();\n    cart.push(product);\n    saveCart(cart);\n    swal.fire('added to the cart', '', 'success');\n    history.push('/Panier');\n    window.location.reload(false);\n  }\n\n  useEffect(() => {\n    let isMounted = true;\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    };\n    axios.get(\"http://127.0.0.1:8000/api/afficherProduits\").then(res => {\n      console.log('heydata', res.data);\n      setProducts(res.data.message);\n    }).catch(err => {\n      console.log(err);\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [history]);\n  var showProductList = '';\n  showProductList = products.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"car_body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"single-products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"productinfo text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/home/product1.jpg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, item.produitImg), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, item.prix), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default add-to-cart\",\n    onClick: () => addToCart({\n      product_id: item.id,\n      product_price: item.prix,\n      product_desc: item.produitDesc,\n      Qte: 1\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 175\n    }\n  }), \"Add to cart\")))))));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-image-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 10\n    }\n  }, showProductList));\n}\n\nexport default ListProduit;","map":{"version":3,"sources":["C:/Users/DreamNet/Desktop/stage 2eme/techStore1.2/src/components/Produit.js"],"names":["useHistory","React","useEffect","useState","axios","swal","ListProduit","history","products","setProducts","saveCart","cart","localStorage","setItem","JSON","stringify","getCart","getItem","parse","addToCart","product","push","fire","window","location","reload","isMounted","token","headers","get","then","res","console","log","data","message","catch","err","showProductList","map","item","produitImg","description","prix","product_id","id","product_price","product_desc","produitDesc","Qte"],"mappings":"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","sourcesContent":["\nimport { useHistory } from \"react-router-dom\";\nimport React, { useEffect , useState} from 'react';\nimport axios from 'axios';\nimport swal from \"sweetalert2\";\n\n\n\nfunction ListProduit (){\n  \n  const history = useHistory();\n  const [products,setProducts] = useState([]);\n  \n  function saveCart(cart){\n    localStorage.setItem('cart' , JSON.stringify(cart))\n  }\n  \n  function getCart(){\n    if (localStorage.getItem('cart') == null ){\n     return []\n    } else {\n      return JSON.parse(localStorage.getItem('cart'))\n\n    }\n  }\n  \n  function addToCart(product){\n    let cart = getCart();\n    cart.push(product);\n    saveCart(cart);\n    swal.fire('added to the cart', '', 'success');\n    history.push('/Panier')\n    window.location.reload(false);\n  }\n\n     useEffect(() => {\n    let isMounted = true\n\n    const token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + `${token}`\n    }\n    \n    axios.get(\"http://127.0.0.1:8000/api/afficherProduits\")\n    .then(res => {\n        console.log('heydata',res.data)\n        setProducts(res.data.message)\n     \n    \n    }).catch(err => {\n      console.log(err)\n    })\n\n    return() => {isMounted =false\n    };\n\n  },[history]);\n\n\n\n\n\n  var showProductList ='';\n  showProductList = products.map((item) => (\n    <div className=\"col-md-3\">\n      <div className=\"card\"> \n        <div className=\"car_body\">\n      <div className=\"single-products\">\n      <div className=\"productinfo text-center\">\n        <img src=\"images/home/product1.jpg\" alt=\"\" />\n        <h2>{item.produitImg}</h2>\n        <p>{item.description}</p>\n        <p>{item.prix}</p>\n        <button className=\"btn btn-default add-to-cart\" onClick={()=>addToCart({product_id : item.id, product_price: item.prix , product_desc : item.produitDesc , Qte : 1})}><i className=\"fa fa-shopping-cart\" />Add to cart</button>\n      </div>\n      </div>\n      </div>\n      </div>\n      </div>\n      \n    \n  ))\n  \n\n\n\n \n    return (\n      \n      <div className=\"row\">\n      \n         <div className=\"product-image-wrapper\">\n       \n       {showProductList}\n      </div>\n     \n    </div>\n   \n    )\n}\nexport default ListProduit;\n"]},"metadata":{},"sourceType":"module"}